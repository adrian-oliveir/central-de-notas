<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Central de notas</title>
    <style>
        /* NOVA PALETA DE CORES BASEADA NO LOGIN */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: #172031;
            color: #fff;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 8px;
            color: #03a9f4;
        }
        
        .subtitulo {
            color: #5b6b8b;
            font-size: 16px;
        }
        
        .nav-tabs {
            display: flex;
            background: rgba(0,0,0,0.5);
            border-radius: 10px 10px 0 0;
            overflow: hidden;
            margin-bottom: 0;
            flex-wrap: wrap;
            border: 1px solid rgba(255,255,255,0.1);
            border-bottom: none;
        }
        
        .tab-button {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: rgba(0,0,0,0.3);
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: background 0.3s;
            min-width: 120px;
            color: #fff;
        }
        
        .tab-button.active {
            background: #03a9f4;
            color: #172031;
        }
        
        .tab-button:hover {
            background: #5b6b8b;
        }
        
        .tab-content {
            display: none;
            background: rgba(0,0,0,0.5);
            padding: 25px;
            border-radius: 0 0 10px 10px;
            border: 1px solid rgba(255,255,255,0.1);
            border-top: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .config-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .config-card {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid #03a9f4;
            color: #fff;
        }
        
        .config-card.health {
            border-left-color: #03a9f4;
        }
        
        .config-card.projects {
            border-left-color: #03a9f4;
        }
        
        .config-card.notes {
            border-left-color: #03a9f4;
        }
        
        .config-card h3 {
            margin-bottom: 15px;
            color: #fff;
            font-size: 16px;
        }
        
        .input-group {
            margin-bottom: 12px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #fff;
            font-size: 14px;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            background: transparent;
            border: none;
            border-bottom: 1px solid #5b6b8b;
            color: #fff;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-bottom-color: #03a9f4;
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
            font-family: Arial, sans-serif;
        }
        
        button {
            background: #03a9f4;
            color: #172031;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
            font-weight: bold;
        }
        
        button:hover {
            background: #0288d1;
        }
        
        .btn-health {
            background: #03a9f4;
        }
        
        .btn-health:hover {
            background: #0288d1;
        }
        
        .btn-projects {
            background: #03a9f4;
        }
        
        .btn-projects:hover {
            background: #0288d1;
        }
        
        .btn-notes {
            background: #03a9f4;
        }
        
        .btn-notes:hover {
            background: #0288d1;
        }
        
        .btn-calendar {
            background: #03a9f4;
        }
        
        .btn-calendar:hover {
            background: #0288d1;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        
        .card {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
            color: #fff;
        }
        
        .card h2 {
            color: #03a9f4;
            margin-bottom: 20px;
            font-size: 18px;
            border-bottom: 2px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }
        
        .data-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
        }
        
        .progress-section {
            margin: 20px 0;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #03a9f4;
            transition: width 0.5s ease;
        }
        
        .progress.health {
            background: #03a9f4;
        }
        
        .progress.projects {
            background: #03a9f4;
        }
        
        .progress.alert {
            background: #f44336;
        }
        
        .insights {
            background: rgba(3, 169, 244, 0.1);
            border-left: 4px solid #03a9f4;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .insights.health {
            background: rgba(3, 169, 244, 0.1);
            border-left-color: #03a9f4;
        }
        
        .insights.projects {
            background: rgba(3, 169, 244, 0.1);
            border-left-color: #03a9f4;
        }
        
        .insights.alert {
            background: rgba(244, 67, 54, 0.1);
            border-left-color: #f44336;
        }
        
        .transactions {
            margin-top: 20px;
        }
        
        .transaction-item {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 14px;
        }
        
        .transaction-item:last-child {
            border-bottom: none;
        }
        
        .transaction-amount.positive {
            color: #4caf50;
            font-weight: bold;
        }
        
        .transaction-amount.negative {
            color: #f44336;
            font-weight: bold;
        }
        
        .connections {
            background: rgba(0,0,0,0.3);
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .connection-item {
            padding: 15px;
            margin-bottom: 12px;
            background: rgba(0,0,0,0.2);
            border-left: 4px solid #03a9f4;
            border-radius: 4px;
        }
        
        .connection-item.alert {
            border-left-color: #f44336;
        }
        
        /* Estilos do Bloco de Notas */
        .notes-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .notes-list {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 6px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .note-item {
            padding: 12px;
            margin-bottom: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
            border-left: 4px solid #03a9f4;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .note-item:hover {
            background: rgba(3, 169, 244, 0.2);
        }
        
        .note-item.active {
            background: rgba(3, 169, 244, 0.3);
        }
        
        .note-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #fff;
        }
        
        .note-preview {
            font-size: 12px;
            color: #5b6b8b;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .note-editor {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 6px;
        }
        
        .note-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        /* Estilos do Calend√°rio */
        .calendar-container {
            margin-top: 20px;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.5);
            color: white;
            border-radius: 6px;
        }
        
        .calendar-nav {
            display: flex;
            gap: 10px;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            overflow: hidden;
        }
        
        .calendar-day-header {
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
        
        .calendar-day {
            background: rgba(0,0,0,0.3);
            padding: 10px;
            min-height: 80px;
            cursor: pointer;
            transition: background 0.3s;
            color: #fff;
        }
        
        .calendar-day:hover {
            background: rgba(3, 169, 244, 0.2);
        }
        
        .calendar-day.other-month {
            background: rgba(0,0,0,0.1);
            color: #5b6b8b;
        }
        
        .calendar-day.today {
            background: rgba(3, 169, 244, 0.3);
            border: 2px solid #03a9f4;
        }
        
        .calendar-event {
            background: #03a9f4;
            color: #172031;
            padding: 2px 5px;
            margin: 2px 0;
            border-radius: 3px;
            font-size: 11px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .event-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
        }
        
        .event-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .logs {
            background: rgba(0,0,0,0.3);
            padding: 25px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
            max-height: 300px;
            overflow-y: auto;
        }
        
        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 13px;
        }
        
        .log-time {
            color: #5b6b8b;
            font-size: 12px;
        }
        
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-secondary {
            background: #5b6b8b;
        }
        
        .btn-secondary:hover {
            background: #4a576e;
        }
        
        @media (max-width: 768px) {
            .config-grid, .dashboard {
                grid-template-columns: 1fr;
            }
            
            .notes-container {
                grid-template-columns: 1fr;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                font-size: 12px;
            }
            
            .calendar-day {
                min-height: 60px;
                padding: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Central de notas</h1>
            <div class="subtitulo">Organize sua vida em um s√≥ lugar</div>
        </header>
        
        <div class="nav-tabs">
            <button class="tab-button active" onclick="abrirAba('finance')">üí∞ Finan√ßas</button>
            <button class="tab-button" onclick="abrirAba('health')">‚ù§Ô∏è Sa√∫de</button>
            <button class="tab-button" onclick="abrirAba('projects')">üöÄ Projetos</button>
            <button class="tab-button" onclick="abrirAba('notes')">üìù Notas</button>
            <button class="tab-button" onclick="abrirAba('calendar')">üìÖ Calend√°rio</button>
            <button class="tab-button" onclick="abrirAba('connections')">üîó Conex√µes</button>
        </div>
        
        <!-- ABA FINAN√áAS -->
        <div id="finance" class="tab-content active">
            <div class="config-section">
                <h2 style="margin-bottom: 20px; color: #03a9f4;">Finan√ßas</h2>
                
                <div class="config-grid">
                    <div class="config-card">
                        <h3>Saldo Inicial</h3>
                        <div class="input-group">
                            <label>Saldo (R$)</label>
                            <input type="number" id="saldo-inicial" placeholder="0.00" step="0.01">
                        </div>
                        <button onclick="definirSaldoInicial()">Definir Saldo</button>
                    </div>
                    
                    <div class="config-card">
                        <h3>Meta de Economia</h3>
                        <div class="input-group">
                            <label>Meta Mensal (R$)</label>
                            <input type="number" id="meta-economia" placeholder="0.00" step="0.01">
                        </div>
                        <button onclick="definirMetaEconomia()">Definir Meta</button>
                    </div>
                    
                    <div class="config-card">
                        <h3>Or√ßamento Mensal</h3>
                        <div class="input-group">
                            <label>Limite de Gastos (R$)</label>
                            <input type="number" id="limite-gastos" placeholder="0.00" step="0.01">
                        </div>
                        <button onclick="definirLimiteGastos()">Definir Limite</button>
                    </div>
                </div>
                
                <div style="border-top: 2px solid rgba(255,255,255,0.1); padding-top: 20px;">
                    <h3 style="margin-bottom: 15px; color: #03a9f4;">Adicionar Transa√ß√£o</h3>
                    <div style="display: grid; grid-template-columns: 1fr 2fr 1fr auto; gap: 10px; align-items: end;">
                        <div class="input-group">
                            <label>Tipo</label>
                            <select id="tipo-transacao">
                                <option value="gasto">Gasto</option>
                                <option value="receita">Receita</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Descri√ß√£o</label>
                            <input type="text" id="descricao-transacao" placeholder="Descri√ß√£o">
                        </div>
                        <div class="input-group">
                            <label>Valor (R$)</label>
                            <input type="number" id="valor-transacao" placeholder="0.00" step="0.01">
                        </div>
                        <div>
                            <button onclick="adicionarTransacao()" style="white-space: nowrap;">Adicionar</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="dashboard">
                <div class="card">
                    <h2>Resumo Financeiro</h2>
                    
                    <div class="data-row">
                        <span>Saldo Atual</span>
                        <span id="saldo-atual">R$ 0,00</span>
                    </div>
                    <div class="data-row">
                        <span>Total Receitas</span>
                        <span id="total-receitas">R$ 0,00</span>
                    </div>
                    <div class="data-row">
                        <span>Total Gastos</span>
                        <span id="total-gastos">R$ 0,00</span>
                    </div>
                    
                    <div class="progress-section">
                        <div class="progress-info">
                            <span>Meta de Economia</span>
                            <span id="texto-economia">R$ 0,00 / R$ 0,00</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" id="barra-progresso-economia" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="progress-section">
                        <div class="progress-info">
                            <span>Limite de Gastos</span>
                            <span id="texto-gastos">R$ 0,00 / R$ 0,00</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" id="barra-progresso-gastos" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="insights" id="insights-financeiros">
                        Configure seu saldo inicial para come√ßar.
                    </div>
                    
                    <div class="actions">
                        <button class="btn-secondary" onclick="reiniciarFinancas()">Reiniciar</button>
                        <button onclick="adicionarDadosExemploFinancas()">Dados Exemplo</button>
                    </div>
                </div>
                
                <div class="card">
                    <h2>√öltimas Transa√ß√µes</h2>
                    <div class="transactions" id="lista-transacoes">
                        <div class="transaction-item">
                            <span>Nenhuma transa√ß√£o</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Estat√≠sticas</h2>
                    <div class="data-row">
                        <span>Transa√ß√µes</span>
                        <span id="contador-transacoes">0</span>
                    </div>
                    <div class="data-row">
                        <span>Maior Receita</span>
                        <span id="maior-receita">R$ 0,00</span>
                    </div>
                    <div class="data-row">
                        <span>Maior Gasto</span>
                        <span id="maior-gasto">R$ 0,00</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ABA SA√öDE -->
        <div id="health" class="tab-content">
            <div class="config-section">
                <h2 style="margin-bottom: 20px; color: #03a9f4;">Sa√∫de</h2>
                
                <div class="config-grid">
                    <div class="config-card health">
                        <h3>Humor Di√°rio</h3>
                        <div class="input-group">
                            <label>Como est√° se sentindo?</label>
                            <select id="humor-saude">
                                <option value="5">Muito Bom</option>
                                <option value="4">Bom</option>
                                <option value="3" selected>Neutro</option>
                                <option value="2">Ruim</option>
                                <option value="1">Muito Ruim</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="config-card health">
                        <h3>Qualidade do Sono</h3>
                        <div class="input-group">
                            <label>Horas de sono</label>
                            <input type="number" id="sono-saude" placeholder="7.5" step="0.5" min="0" max="24">
                        </div>
                    </div>
                    
                    <div class="config-card health">
                        <h3>N√≠vel de Energia</h3>
                        <div class="input-group">
                            <label>Energia</label>
                            <select id="energia-saude">
                                <option value="5">Muita Energia</option>
                                <option value="4">Boa Energia</option>
                                <option value="3" selected>Energia Normal</option>
                                <option value="2">Pouca Energia</option>
                                <option value="1">Sem Energia</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <button class="btn-health" onclick="adicionarDadosSaude()" style="margin-top: 10px;">Registrar Sa√∫de</button>
            </div>
            
            <div class="dashboard">
                <div class="card">
                    <h2>Resumo de Sa√∫de</h2>
                    
                    <div class="data-row">
                        <span>Humor M√©dio</span>
                        <span id="humor-medio">Neutro</span>
                    </div>
                    <div class="data-row">
                        <span>Sono M√©dio</span>
                        <span id="sono-medio">0h</span>
                    </div>
                    <div class="data-row">
                        <span>Energia M√©dia</span>
                        <span id="energia-media">Normal</span>
                    </div>
                    <div class="data-row">
                        <span>Dias Registrados</span>
                        <span id="dias-saude">0</span>
                    </div>
                    
                    <div class="progress-section">
                        <div class="progress-info">
                            <span>Qualidade do Sono</span>
                            <span id="qualidade-sono">0/8h</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress health" id="barra-progresso-saude" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="insights health" id="insights-saude">
                        Registre seus dados de sa√∫de.
                    </div>
                    
                    <div class="actions">
                        <button class="btn-secondary" onclick="limparSaude()">Limpar</button>
                        <button class="btn-health" onclick="adicionarDadosExemploSaude()">Dados Exemplo</button>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Estat√≠sticas</h2>
                    <div class="data-row">
                        <span>Melhor Humor</span>
                        <span id="melhor-humor">-</span>
                    </div>
                    <div class="data-row">
                        <span>Pior Humor</span>
                        <span id="pior-humor">-</span>
                    </div>
                    <div class="data-row">
                        <span>Mais Sono</span>
                        <span id="mais-sono">-</span>
                    </div>
                    <div class="data-row">
                        <span>Menos Sono</span>
                        <span id="menos-sono">-</span>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Registros Recentes</h2>
                    <div id="registros-saude">
                        <div class="transaction-item">
                            <span>Nenhum registro</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ABA PROJETOS -->
        <div id="projects" class="tab-content">
            <div class="config-section">
                <h2 style="margin-bottom: 20px; color: #03a9f4;">Projetos</h2>
                
                <div class="config-grid">
                    <div class="config-card projects">
                        <h3>Novo Projeto</h3>
                        <div class="input-group">
                            <label>Nome do Projeto</label>
                            <input type="text" id="nome-projeto" placeholder="Nome do projeto">
                        </div>
                        <div class="input-group">
                            <label>Categoria</label>
                            <select id="categoria-projeto">
                                <option value="estudos">Estudos</option>
                                <option value="trabalho">Trabalho</option>
                                <option value="fitness">Fitness</option>
                                <option value="pessoal">Pessoal</option>
                            </select>
                        </div>
                        <button class="btn-projects" onclick="criarProjeto()">Criar</button>
                    </div>
                    
                    <div class="config-card projects">
                        <h3>Atualizar Progresso</h3>
                        <div class="input-group">
                            <label>Projeto</label>
                            <select id="selecionar-projeto">
                                <option value="">Selecione</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Progresso (%)</label>
                            <input type="number" id="progresso-projeto" placeholder="50" min="0" max="100">
                        </div>
                        <button class="btn-projects" onclick="atualizarProgressoProjeto()">Atualizar</button>
                    </div>
                    
                    <div class="config-card projects">
                        <h3>Nova Tarefa</h3>
                        <div class="input-group">
                            <label>Descri√ß√£o</label>
                            <input type="text" id="descricao-tarefa" placeholder="Descri√ß√£o">
                        </div>
                        <div class="input-group">
                            <label>Tempo (min)</label>
                            <input type="number" id="tempo-tarefa" placeholder="60">
                        </div>
                        <button class="btn-projects" onclick="adicionarTarefa()">Registrar</button>
                    </div>
                </div>
            </div>
            
            <div class="dashboard">
                <div class="card">
                    <h2>Progresso dos Projetos</h2>
                    <div id="lista-projetos">
                        <div class="data-row">
                            <span>Nenhum projeto</span>
                        </div>
                    </div>
                    
                    <div class="progress-section">
                        <div class="progress-info">
                            <span>Progresso Geral</span>
                            <span id="progresso-geral">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress projects" id="barra-progresso-projeto" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="insights projects" id="insights-projeto">
                        Crie seu primeiro projeto.
                    </div>
                    
                    <div class="actions">
                        <button class="btn-secondary" onclick="limparProjetos()">Limpar</button>
                        <button class="btn-projects" onclick="adicionarDadosExemploProjeto()">Dados Exemplo</button>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Tarefas Recentes</h2>
                    <div id="tarefas-recentes">
                        <div class="transaction-item">
                            <span>Nenhuma tarefa</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Estat√≠sticas</h2>
                    <div class="data-row">
                        <span>Projetos Ativos</span>
                        <span id="projetos-ativos">0</span>
                    </div>
                    <div class="data-row">
                        <span>Tarefas Conclu√≠das</span>
                        <span id="tarefas-concluidas">0</span>
                    </div>
                    <div class="data-row">
                        <span>Tempo Total</span>
                        <span id="tempo-total">0min</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ABA NOTAS -->
        <div id="notes" class="tab-content">
            <div class="config-section">
                <h2 style="margin-bottom: 20px; color: #03a9f4;">Notas</h2>
                
                <div class="config-grid">
                    <div class="config-card notes">
                        <h3>Nova Nota</h3>
                        <div class="input-group">
                            <label>T√≠tulo</label>
                            <input type="text" id="titulo-nota" placeholder="T√≠tulo">
                        </div>
                        <button class="btn-notes" onclick="criarNovaNota()">Criar</button>
                    </div>
                    
                    <div class="config-card notes">
                        <h3>Buscar</h3>
                        <div class="input-group">
                            <label>Palavra-chave</label>
                            <input type="text" id="buscar-notas" placeholder="Buscar...">
                        </div>
                        <button class="btn-notes" onclick="buscarNotas()">Buscar</button>
                    </div>
                    
                    <div class="config-card notes">
                        <h3>Filtrar</h3>
                        <div class="input-group">
                            <label>Categoria</label>
                            <select id="filtro-categoria-nota">
                                <option value="all">Todas</option>
                                <option value="pessoal">Pessoal</option>
                                <option value="trabalho">Trabalho</option>
                                <option value="estudos">Estudos</option>
                                <option value="ideias">Ideias</option>
                                <option value="outros">Outros</option>
                            </select>
                        </div>
                        <button class="btn-notes" onclick="filtrarNotas()">Filtrar</button>
                    </div>
                </div>
            </div>
            
            <div class="notes-container">
                <div class="notes-list">
                    <h3>Notas</h3>
                    <div id="container-lista-notas">
                        <div class="note-item">
                            <div class="note-title">Nenhuma nota</div>
                            <div class="note-preview">Crie uma nova nota</div>
                        </div>
                    </div>
                </div>
                
                <div class="note-editor">
                    <h3>Editor</h3>
                    <div class="input-group">
                        <label>T√≠tulo</label>
                        <input type="text" id="editar-titulo-nota" placeholder="T√≠tulo">
                    </div>
                    <div class="input-group">
                        <label>Categoria</label>
                        <select id="editar-categoria-nota">
                            <option value="pessoal">Pessoal</option>
                            <option value="trabalho">Trabalho</option>
                            <option value="estudos">Estudos</option>
                            <option value="ideias">Ideias</option>
                            <option value="outros">Outros</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Conte√∫do</label>
                        <textarea id="editar-conteudo-nota" placeholder="Digite aqui..."></textarea>
                    </div>
                    <div class="note-actions">
                        <button class="btn-notes" onclick="salvarNota()">Salvar</button>
                        <button class="btn-secondary" onclick="excluirNota()">Excluir</button>
                        <button onclick="limparEditorNota()">Nova</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ABA CALEND√ÅRIO -->
        <div id="calendar" class="tab-content">
            <div class="config-section">
                <h2 style="margin-bottom: 20px; color: #03a9f4;">Calend√°rio</h2>
                
                <div class="config-grid">
                    <div class="config-card">
                        <h3>Novo Evento</h3>
                        <div class="input-group">
                            <label>T√≠tulo</label>
                            <input type="text" id="titulo-evento" placeholder="T√≠tulo">
                        </div>
                        <div class="input-group">
                            <label>Data</label>
                            <input type="date" id="data-evento">
                        </div>
                        <button class="btn-calendar" onclick="abrirModalEvento()">Adicionar</button>
                    </div>
                    
                    <div class="config-card">
                        <h3>Visualiza√ß√£o</h3>
                        <div class="input-group">
                            <label>M√™s/Ano</label>
                            <input type="month" id="mes-calendario" onchange="alterarMesCalendario()">
                        </div>
                        <button class="btn-calendar" onclick="irParaHoje()">Hoje</button>
                    </div>
                </div>
            </div>
            
            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="btn-calendar" onclick="mesAnterior()">‚Äπ Anterior</button>
                    <h2 id="mes-ano-calendario">Carregando...</h2>
                    <button class="btn-calendar" onclick="proximoMes()">Pr√≥ximo ‚Ä∫</button>
                </div>
                
                <div class="calendar-grid" id="grade-calendario">
                    <!-- Calend√°rio gerado via JavaScript -->
                </div>
            </div>
            
            <div class="dashboard" style="margin-top: 25px;">
                <div class="card">
                    <h2>Eventos do M√™s</h2>
                    <div id="eventos-mes">
                        <div class="transaction-item">
                            <span>Nenhum evento</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Pr√≥ximos Eventos</h2>
                    <div id="proximos-eventos">
                        <div class="transaction-item">
                            <span>Nenhum evento</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Estat√≠sticas</h2>
                    <div class="data-row">
                        <span>Total Eventos</span>
                        <span id="total-eventos">0</span>
                    </div>
                    <div class="data-row">
                        <span>Eventos Este M√™s</span>
                        <span id="contador-eventos-mes">0</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ABA CONEX√ïES -->
        <div id="connections" class="tab-content">
            <div class="connections">
                <h2 style="margin-bottom: 20px; color: #03a9f4;">Conex√µes</h2>
                <div id="container-conexoes">
                    <div class="connection-item">
                        Adicione dados para ver conex√µes.
                    </div>
                </div>
            </div>
            
            <div class="dashboard">
                <div class="card">
                    <h2>Estat√≠sticas</h2>
                    <div class="data-row">
                        <span>Dias de Dados</span>
                        <span id="dias-dados">0</span>
                    </div>
                    <div class="data-row">
                        <span>Conex√µes</span>
                        <span id="conexoes-encontradas">0</span>
                    </div>
                    <div class="data-row">
                        <span>Padr√µes</span>
                        <span id="padroes-encontrados">0</span>
                    </div>
                </div>
                
                <div class="card">
                    <h2>A√ß√µes</h2>
                    <div class="actions" style="flex-direction: column; gap: 10px;">
                        <button onclick="analisarTodasConexoes()">Analisar</button>
                        <button class="btn-secondary" onclick="limparTodosDados()">Limpar Tudo</button>
                        <button onclick="adicionarDadosExemploTodos()">Dados Exemplo</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODAL DE EVENTOS -->
        <div id="event-modal" class="event-modal">
            <div class="event-modal-content">
                <h3>Adicionar Evento</h3>
                <div class="input-group">
                    <label>T√≠tulo</label>
                    <input type="text" id="titulo-evento-modal" placeholder="T√≠tulo">
                </div>
                <div class="input-group">
                    <label>Data</label>
                    <input type="date" id="data-evento-modal">
                </div>
                <div class="input-group">
                    <label>Descri√ß√£o</label>
                    <textarea id="descricao-evento-modal" placeholder="Descri√ß√£o"></textarea>
                </div>
                <div class="input-group">
                    <label>Categoria</label>
                    <select id="categoria-evento-modal">
                        <option value="pessoal">Pessoal</option>
                        <option value="trabalho">Trabalho</option>
                        <option value="saude">Sa√∫de</option>
                        <option value="lazer">Lazer</option>
                        <option value="outros">Outros</option>
                    </select>
                </div>
                <div class="actions">
                    <button class="btn-calendar" onclick="salvarEvento()">Salvar</button>
                    <button class="btn-secondary" onclick="fecharModalEvento()">Cancelar</button>
                </div>
            </div>
        </div>
        
        <div class="logs">
            <h2 style="margin-bottom: 15px; color: #03a9f4;">Hist√≥rico</h2>
            <div id="logs-atividade">
                <div class="log-entry">
                    <span class="log-time">[Sistema]</span> Aplica√ß√£o iniciada
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== SISTEMA DE ABAS ==========
        function abrirAba(nomeAba) {
            const abas = document.getElementsByClassName('tab-content');
            for (let aba of abas) {
                aba.classList.remove('active');
            }
            
            const botoes = document.getElementsByClassName('tab-button');
            for (let botao of botoes) {
                botao.classList.remove('active');
            }
            
            document.getElementById(nomeAba).classList.add('active');
            event.currentTarget.classList.add('active');

            if (nomeAba === 'calendar') {
                inicializarCalendario();
            }
        }

        // ========== ESTADO GLOBAL ==========
        const estado = {
            financas: {
                saldoInicial: 0,
                saldoAtual: 0,
                metaEconomia: 0,
                limiteGastos: 0,
                totalReceitas: 0,
                totalGastos: 0,
                transacoes: []
            },
            
            saude: {
                humores: [],
                horasSono: [],
                niveisEnergia: [],
                entradas: []
            },
            
            projetos: {
                lista: [],
                tarefas: [],
                progressoGeral: 0
            },

            notas: {
                lista: [],
                notaAtual: null,
                termoBusca: '',
                categoriaFiltro: 'all'
            },

            calendario: {
                eventos: [],
                dataAtual: new Date(),
                dataSelecionada: null
            },
            
            conexoes: {
                encontradas: [],
                ultimaAnalise: null
            }
        };

        // ========== SISTEMA DE LOG ==========
        function registrarAtividade(mensagem) {
            const agora = new Date();
            const textoHora = `[${agora.getHours().toString().padStart(2, '0')}:${agora.getMinutes().toString().padStart(2, '0')}]`;
            
            const entradaLog = document.createElement('div');
            entradaLog.className = 'log-entry';
            entradaLog.innerHTML = `<span class="log-time">${textoHora}</span> ${mensagem}`;
            
            document.getElementById('logs-atividade').prepend(entradaLog);
            
            const logs = document.getElementById('logs-atividade');
            if (logs.children.length > 15) {
                logs.removeChild(logs.lastChild);
            }
        }

        // ========== SISTEMA DE FINAN√áAS ==========
        function definirSaldoInicial() {
            const entradaSaldo = document.getElementById('saldo-inicial');
            const saldo = parseFloat(entradaSaldo.value);
            
            if (isNaN(saldo) || saldo < 0) {
                alert('Digite um saldo v√°lido');
                return;
            }
            
            estado.financas.saldoInicial = saldo;
            estado.financas.saldoAtual = saldo;
            atualizarDisplayFinancas();
            registrarAtividade(`Saldo definido: R$ ${saldo.toFixed(2)}`);
            entradaSaldo.value = '';
        }
        
        function definirMetaEconomia() {
            const entradaMeta = document.getElementById('meta-economia');
            const meta = parseFloat(entradaMeta.value);
            
            if (isNaN(meta) || meta < 0) {
                alert('Digite uma meta v√°lida');
                return;
            }
            
            estado.financas.metaEconomia = meta;
            atualizarDisplayFinancas();
            registrarAtividade(`Meta definida: R$ ${meta.toFixed(2)}`);
            entradaMeta.value = '';
        }
        
        function definirLimiteGastos() {
            const entradaLimite = document.getElementById('limite-gastos');
            const limite = parseFloat(entradaLimite.value);
            
            if (isNaN(limite) || limite < 0) {
                alert('Digite um limite v√°lido');
                return;
            }
            
            estado.financas.limiteGastos = limite;
            atualizarDisplayFinancas();
            registrarAtividade(`Limite definido: R$ ${limite.toFixed(2)}`);
            entradaLimite.value = '';
        }
        
        function adicionarTransacao() {
            const tipo = document.getElementById('tipo-transacao').value;
            const descricao = document.getElementById('descricao-transacao').value;
            const entradaValor = document.getElementById('valor-transacao');
            const valor = parseFloat(entradaValor.value);
            
            if (!descricao || isNaN(valor) || valor <= 0) {
                alert('Preencha descri√ß√£o e valor v√°lido');
                return;
            }
            
            const transacao = {
                id: Date.now(),
                tipo: tipo,
                descricao: descricao,
                valor: valor,
                data: new Date().toLocaleDateString('pt-BR')
            };
            
            estado.financas.transacoes.push(transacao);
            
            if (tipo === 'receita') {
                estado.financas.totalReceitas += valor;
                estado.financas.saldoAtual += valor;
                registrarAtividade(`Receita: ${descricao} - R$ ${valor.toFixed(2)}`);
            } else {
                estado.financas.totalGastos += valor;
                estado.financas.saldoAtual -= valor;
                registrarAtividade(`Gasto: ${descricao} - R$ ${valor.toFixed(2)}`);
            }
            
            atualizarDisplayFinancas();
            atualizarListaTransacoes();
            
            document.getElementById('descricao-transacao').value = '';
            entradaValor.value = '';
        }
        
        function atualizarDisplayFinancas() {
            // Atualizar valores b√°sicos
            document.getElementById('saldo-atual').textContent = `R$ ${estado.financas.saldoAtual.toFixed(2)}`;
            document.getElementById('total-receitas').textContent = `R$ ${estado.financas.totalReceitas.toFixed(2)}`;
            document.getElementById('total-gastos').textContent = `R$ ${estado.financas.totalGastos.toFixed(2)}`;
            document.getElementById('contador-transacoes').textContent = estado.financas.transacoes.length;
            
            // Calcular estat√≠sticas
            const receitas = estado.financas.transacoes.filter(t => t.tipo === 'receita').map(t => t.valor);
            const gastos = estado.financas.transacoes.filter(t => t.tipo === 'gasto').map(t => t.valor);
            
            const maiorReceita = receitas.length > 0 ? Math.max(...receitas) : 0;
            const maiorGasto = gastos.length > 0 ? Math.max(...gastos) : 0;
            
            document.getElementById('maior-receita').textContent = `R$ ${maiorReceita.toFixed(2)}`;
            document.getElementById('maior-gasto').textContent = `R$ ${maiorGasto.toFixed(2)}`;
            
            // Progresso da meta de economia
            let porcentagemEconomia = 0;
            if (estado.financas.metaEconomia > 0) {
                const valorEconomizado = Math.max(0, estado.financas.saldoAtual - estado.financas.saldoInicial);
                porcentagemEconomia = Math.min(100, (valorEconomizado / estado.financas.metaEconomia) * 100);
            }
            document.getElementById('texto-economia').textContent = `R$ ${Math.max(0, estado.financas.saldoAtual - estado.financas.saldoInicial).toFixed(2)} / R$ ${estado.financas.metaEconomia.toFixed(2)}`;
            document.getElementById('barra-progresso-economia').style.width = `${porcentagemEconomia}%`;
            
            // Progresso do limite de gastos
            let porcentagemGastos = 0;
            if (estado.financas.limiteGastos > 0) {
                porcentagemGastos = Math.min(100, (estado.financas.totalGastos / estado.financas.limiteGastos) * 100);
            }
            document.getElementById('texto-gastos').textContent = `R$ ${estado.financas.totalGastos.toFixed(2)} / R$ ${estado.financas.limiteGastos.toFixed(2)}`;
            document.getElementById('barra-progresso-gastos').style.width = `${porcentagemGastos}%`;
            
            // Aplicar cor de alerta
            if (porcentagemGastos >= 80) {
                document.getElementById('barra-progresso-gastos').classList.add('alert');
            } else {
                document.getElementById('barra-progresso-gastos').classList.remove('alert');
            }
            
            // Insights
            const insights = document.getElementById('insights-financeiros');
            const valorEconomizado = estado.financas.saldoAtual - estado.financas.saldoInicial;
            
            if (estado.financas.saldoInicial === 0) {
                insights.textContent = 'Configure seu saldo inicial para come√ßar.';
            } else if (valorEconomizado >= estado.financas.metaEconomia && estado.financas.metaEconomia > 0) {
                insights.textContent = 'Meta de economia atingida!';
            } else if (porcentagemGastos >= 100) {
                insights.textContent = 'Limite de gastos ultrapassado!';
                insights.classList.add('alert');
            } else if (valorEconomizado > 0) {
                insights.textContent = `Economizando: R$ ${valorEconomizado.toFixed(2)}`;
                insights.classList.remove('alert');
            } else {
                insights.textContent = 'Controle seus gastos';
                insights.classList.remove('alert');
            }
        }
        
        function atualizarListaTransacoes() {
            const listaTransacoes = document.getElementById('lista-transacoes');
            listaTransacoes.innerHTML = '';
            
            if (estado.financas.transacoes.length === 0) {
                listaTransacoes.innerHTML = '<div class="transaction-item"><span>Nenhuma transa√ß√£o</span></div>';
                return;
            }
            
            const transacoesRecentes = estado.financas.transacoes.slice(-5).reverse();
            
            transacoesRecentes.forEach(transacao => {
                const elementoTransacao = document.createElement('div');
                elementoTransacao.className = 'transaction-item';
                
                const classeValor = transacao.tipo === 'receita' ? 'positive' : 'negative';
                const prefixoValor = transacao.tipo === 'receita' ? '+' : '-';
                
                elementoTransacao.innerHTML = `
                    <div>
                        <strong>${transacao.descricao}</strong>
                        <div style="font-size: 12px; color: #5b6b8b;">${transacao.data}</div>
                    </div>
                    <div class="transaction-amount ${classeValor}">
                        ${prefixoValor} R$ ${transacao.valor.toFixed(2)}
                    </div>
                `;
                
                listaTransacoes.appendChild(elementoTransacao);
            });
        }
        
        function reiniciarFinancas() {
            if (confirm('Reiniciar todas as finan√ßas?')) {
                estado.financas.saldoInicial = 0;
                estado.financas.saldoAtual = 0;
                estado.financas.metaEconomia = 0;
                estado.financas.limiteGastos = 0;
                estado.financas.totalReceitas = 0;
                estado.financas.totalGastos = 0;
                estado.financas.transacoes = [];
                
                atualizarDisplayFinancas();
                atualizarListaTransacoes();
                registrarAtividade('Finan√ßas reiniciadas');
            }
        }
        
        function adicionarDadosExemploFinancas() {
            estado.financas.saldoInicial = 3000;
            estado.financas.saldoAtual = 3000;
            estado.financas.metaEconomia = 500;
            estado.financas.limiteGastos = 2000;
            
            const transacoesExemplo = [
                { tipo: 'gasto', descricao: 'Mercado', valor: 350 },
                { tipo: 'gasto', descricao: 'Combust√≠vel', valor: 200 },
                { tipo: 'receita', descricao: 'Sal√°rio', valor: 2500 },
                { tipo: 'gasto', descricao: 'Aluguel', valor: 800 }
            ];
            
            transacoesExemplo.forEach(trans => {
                estado.financas.transacoes.push({
                    id: Date.now() + Math.random(),
                    tipo: trans.tipo,
                    descricao: trans.descricao,
                    valor: trans.valor,
                    data: new Date().toLocaleDateString('pt-BR')
                });
                
                if (trans.tipo === 'receita') {
                    estado.financas.totalReceitas += trans.valor;
                    estado.financas.saldoAtual += trans.valor;
                } else {
                    estado.financas.totalGastos += trans.valor;
                    estado.financas.saldoAtual -= trans.valor;
                }
            });
            
            atualizarDisplayFinancas();
            atualizarListaTransacoes();
            registrarAtividade('Dados financeiros de exemplo carregados');
        }

        // ========== SISTEMA DE SA√öDE ==========
        function adicionarDadosSaude() {
            const humor = parseInt(document.getElementById('humor-saude').value);
            const sono = parseFloat(document.getElementById('sono-saude').value);
            const energia = parseInt(document.getElementById('energia-saude').value);
            
            if (isNaN(sono) || sono < 0 || sono > 24) {
                alert('Horas de sono inv√°lidas');
                return;
            }
            
            const entradaSaude = {
                data: new Date().toLocaleDateString('pt-BR'),
                humor: humor,
                sono: sono,
                energia: energia
            };
            
            estado.saude.entradas.push(entradaSaude);
            estado.saude.humores.push(humor);
            estado.saude.horasSono.push(sono);
            estado.saude.niveisEnergia.push(energia);
            
            atualizarDisplaySaude();
            registrarAtividade(`Sa√∫de registrada: Humor ${humor}/5, Sono ${sono}h`);
            
            document.getElementById('sono-saude').value = '';
        }
        
        function atualizarDisplaySaude() {
            if (estado.saude.entradas.length === 0) {
                document.getElementById('humor-medio').textContent = 'Neutro';
                document.getElementById('sono-medio').textContent = '0h';
                document.getElementById('energia-media').textContent = 'Normal';
                document.getElementById('dias-saude').textContent = '0';
                document.getElementById('qualidade-sono').textContent = '0/8h';
                document.getElementById('barra-progresso-saude').style.width = '0%';
                document.getElementById('insights-saude').textContent = 'Registre seus dados de sa√∫de.';
                document.getElementById('melhor-humor').textContent = '-';
                document.getElementById('pior-humor').textContent = '-';
                document.getElementById('mais-sono').textContent = '-';
                document.getElementById('menos-sono').textContent = '-';
                atualizarRegistrosSaude();
                return;
            }
            
            // Calcular m√©dias
            const humorMedio = estado.saude.humores.reduce((a, b) => a + b, 0) / estado.saude.humores.length;
            const sonoMedio = estado.saude.horasSono.reduce((a, b) => a + b, 0) / estado.saude.horasSono.length;
            const energiaMedia = estado.saude.niveisEnergia.reduce((a, b) => a + b, 0) / estado.saude.niveisEnergia.length;
            
            // Atualizar displays
            document.getElementById('humor-medio').textContent = obterTextoHumor(humorMedio);
            document.getElementById('sono-medio').textContent = `${sonoMedio.toFixed(1)}h`;
            document.getElementById('energia-media').textContent = obterTextoEnergia(energiaMedia);
            document.getElementById('dias-saude').textContent = estado.saude.entradas.length;
            
            // Progresso do sono
            const progressoSono = Math.min(100, (sonoMedio / 8) * 100);
            document.getElementById('qualidade-sono').textContent = `${sonoMedio.toFixed(1)}/8h`;
            document.getElementById('barra-progresso-saude').style.width = `${progressoSono}%`;
            
            // Estat√≠sticas
            document.getElementById('melhor-humor').textContent = obterTextoHumor(Math.max(...estado.saude.humores));
            document.getElementById('pior-humor').textContent = obterTextoHumor(Math.min(...estado.saude.humores));
            document.getElementById('mais-sono').textContent = `${Math.max(...estado.saude.horasSono).toFixed(1)}h`;
            document.getElementById('menos-sono').textContent = `${Math.min(...estado.saude.horasSono).toFixed(1)}h`;
            
            // Insights
            const insights = document.getElementById('insights-saude');
            if (sonoMedio < 6) {
                insights.textContent = 'Sono insuficiente';
                insights.classList.add('alert');
            } else if (sonoMedio > 9) {
                insights.textContent = 'Sono excessivo';
                insights.classList.add('alert');
            } else {
                insights.textContent = 'Sono adequado';
                insights.classList.remove('alert');
            }
            
            atualizarRegistrosSaude();
        }
        
        function obterTextoHumor(valorHumor) {
            const humores = ['Muito Ruim', 'Ruim', 'Neutro', 'Bom', 'Muito Bom'];
            return humores[Math.round(valorHumor) - 1] || 'Neutro';
        }
        
        function obterTextoEnergia(valorEnergia) {
            const energias = ['Sem Energia', 'Pouca Energia', 'Energia Normal', 'Boa Energia', 'Muita Energia'];
            return energias[Math.round(valorEnergia) - 1] || 'Energia Normal';
        }
        
        function atualizarRegistrosSaude() {
            const container = document.getElementById('registros-saude');
            container.innerHTML = '';
            
            if (estado.saude.entradas.length === 0) {
                container.innerHTML = '<div class="transaction-item"><span>Nenhum registro</span></div>';
                return;
            }
            
            const entradasRecentes = estado.saude.entradas.slice(-5).reverse();
            
            entradasRecentes.forEach(entrada => {
                const elementoEntrada = document.createElement('div');
                elementoEntrada.className = 'transaction-item';
                elementoEntrada.innerHTML = `
                    <div>
                        <strong>${obterTextoHumor(entrada.humor)}</strong>
                        <div style="font-size: 12px; color: #5b6b8b;">
                            ${entrada.sono}h sono ‚Ä¢ ${obterTextoEnergia(entrada.energia)}
                        </div>
                    </div>
                    <div style="font-size: 12px; color: #5b6b8b;">
                        ${entrada.data}
                    </div>
                `;
                container.appendChild(elementoEntrada);
            });
        }
        
        function limparSaude() {
            if (confirm('Limpar todos os dados de sa√∫de?')) {
                estado.saude.humores = [];
                estado.saude.horasSono = [];
                estado.saude.niveisEnergia = [];
                estado.saude.entradas = [];
                
                atualizarDisplaySaude();
                registrarAtividade('Dados de sa√∫de limpos');
            }
        }
        
        function adicionarDadosExemploSaude() {
            const entradasExemplo = [
                { humor: 4, sono: 7.5, energia: 4 },
                { humor: 3, sono: 6.0, energia: 3 },
                { humor: 5, sono: 8.0, energia: 5 },
                { humor: 2, sono: 5.5, energia: 2 }
            ];
            
            entradasExemplo.forEach(entrada => {
                estado.saude.entradas.push({
                    data: new Date().toLocaleDateString('pt-BR'),
                    ...entrada
                });
                estado.saude.humores.push(entrada.humor);
                estado.saude.horasSono.push(entrada.sono);
                estado.saude.niveisEnergia.push(entrada.energia);
            });
            
            atualizarDisplaySaude();
            registrarAtividade('Dados de sa√∫de de exemplo carregados');
        }

        // ========== SISTEMA DE PROJETOS ==========
        function criarProjeto() {
            const nome = document.getElementById('nome-projeto').value;
            const categoria = document.getElementById('categoria-projeto').value;
            
            if (!nome) {
                alert('Digite um nome para o projeto');
                return;
            }
            
            const projeto = {
                id: Date.now(),
                nome: nome,
                categoria: categoria,
                progresso: 0,
                criado: new Date().toLocaleDateString('pt-BR'),
                tarefas: []
            };
            
            estado.projetos.lista.push(projeto);
            atualizarSelecaoProjeto();
            atualizarDisplayProjetos();
            registrarAtividade(`Projeto criado: ${nome}`);
            
            document.getElementById('nome-projeto').value = '';
        }
        
        function atualizarProgressoProjeto() {
            const idProjeto = document.getElementById('selecionar-projeto').value;
            const progresso = parseInt(document.getElementById('progresso-projeto').value);
            
            if (!idProjeto || isNaN(progresso)) {
                alert('Selecione um projeto e digite um progresso v√°lido');
                return;
            }
            
            const projeto = estado.projetos.lista.find(p => p.id == idProjeto);
            if (projeto) {
                projeto.progresso = progresso;
                atualizarDisplayProjetos();
                registrarAtividade(`Progresso atualizado: ${projeto.nome} - ${progresso}%`);
            }
            
            document.getElementById('progresso-projeto').value = '';
        }
        
        function adicionarTarefa() {
            const descricao = document.getElementById('descricao-tarefa').value;
            const tempo = parseInt(document.getElementById('tempo-tarefa').value);
            
            if (!descricao || isNaN(tempo)) {
                alert('Preencha descri√ß√£o e tempo');
                return;
            }
            
            const tarefa = {
                id: Date.now(),
                descricao: descricao,
                tempo: tempo,
                data: new Date().toLocaleDateString('pt-BR')
            };
            
            estado.projetos.tarefas.push(tarefa);
            atualizarTarefasRecentes();
            registrarAtividade(`Tarefa registrada: ${descricao}`);
            
            document.getElementById('descricao-tarefa').value = '';
            document.getElementById('tempo-tarefa').value = '';
        }
        
        function atualizarSelecaoProjeto() {
            const selecao = document.getElementById('selecionar-projeto');
            selecao.innerHTML = '<option value="">Selecione</option>';
            
            estado.projetos.lista.forEach(projeto => {
                const opcao = document.createElement('option');
                opcao.value = projeto.id;
                opcao.textContent = `${projeto.nome} (${projeto.progresso}%)`;
                selecao.appendChild(opcao);
            });
        }
        
        function atualizarDisplayProjetos() {
            const listaProjetos = document.getElementById('lista-projetos');
            const progressoGeral = document.getElementById('progresso-geral');
            const barraProgressoProjeto = document.getElementById('barra-progresso-projeto');
            const insightsProjeto = document.getElementById('insights-projeto');
            const projetosAtivos = document.getElementById('projetos-ativos');
            const tarefasConcluidas = document.getElementById('tarefas-concluidas');
            const tempoTotal = document.getElementById('tempo-total');
            
            listaProjetos.innerHTML = '';
            
            if (estado.projetos.lista.length === 0) {
                listaProjetos.innerHTML = '<div class="data-row"><span>Nenhum projeto</span></div>';
                progressoGeral.textContent = '0%';
                barraProgressoProjeto.style.width = '0%';
                insightsProjeto.textContent = 'Crie seu primeiro projeto.';
                projetosAtivos.textContent = '0';
                tarefasConcluidas.textContent = '0';
                tempoTotal.textContent = '0min';
                return;
            }
            
            // Calcular progresso geral
            const progressoTotal = estado.projetos.lista.reduce((soma, projeto) => soma + projeto.progresso, 0);
            const progressoMedio = progressoTotal / estado.projetos.lista.length;
            
            progressoGeral.textContent = `${progressoMedio.toFixed(0)}%`;
            barraProgressoProjeto.style.width = `${progressoMedio}%`;
            
            // Estat√≠sticas
            projetosAtivos.textContent = estado.projetos.lista.length;
            tarefasConcluidas.textContent = estado.projetos.tarefas.length;
            const valorTempoTotal = estado.projetos.tarefas.reduce((soma, tarefa) => soma + tarefa.tempo, 0);
            tempoTotal.textContent = `${valorTempoTotal}min`;
            
            // Listar projetos
            estado.projetos.lista.forEach(projeto => {
                const elementoProjeto = document.createElement('div');
                elementoProjeto.className = 'data-row';
                elementoProjeto.innerHTML = `
                    <div>
                        <strong>${projeto.nome}</strong>
                        <div style="font-size: 12px; color: #5b6b8b;">${projeto.categoria}</div>
                    </div>
                    <span>${projeto.progresso}%</span>
                `;
                listaProjetos.appendChild(elementoProjeto);
            });
            
            // Insights
            if (progressoMedio > 75) {
                insightsProjeto.textContent = 'Excelente progresso!';
            } else if (progressoMedio > 50) {
                insightsProjeto.textContent = 'Bom trabalho!';
            } else {
                insightsProjeto.textContent = 'Continue progredindo!';
            }
            
            atualizarSelecaoProjeto();
        }
        
        function atualizarTarefasRecentes() {
            const tarefasRecentes = document.getElementById('tarefas-recentes');
            tarefasRecentes.innerHTML = '';
            
            if (estado.projetos.tarefas.length === 0) {
                tarefasRecentes.innerHTML = '<div class="transaction-item"><span>Nenhuma tarefa</span></div>';
                return;
            }
            
            const recentes = estado.projetos.tarefas.slice(-5).reverse();
            recentes.forEach(tarefa => {
                const elementoTarefa = document.createElement('div');
                elementoTarefa.className = 'transaction-item';
                elementoTarefa.innerHTML = `
                    <div>
                        <strong>${tarefa.descricao}</strong>
                        <div style="font-size: 12px; color: #5b6b8b;">${tarefa.data}</div>
                    </div>
                    <span>${tarefa.tempo}min</span>
                `;
                tarefasRecentes.appendChild(elementoTarefa);
            });
        }
        
        function limparProjetos() {
            if (confirm('Limpar todos os projetos e tarefas?')) {
                estado.projetos.lista = [];
                estado.projetos.tarefas = [];
                estado.projetos.progressoGeral = 0;
                
                atualizarDisplayProjetos();
                atualizarTarefasRecentes();
                registrarAtividade('Projetos limpos');
            }
        }
        
        function adicionarDadosExemploProjeto() {
            const projetosExemplo = [
                { nome: 'Aprender JavaScript', categoria: 'estudos', progresso: 70 },
                { nome: 'Plano de Exerc√≠cios', categoria: 'fitness', progresso: 40 },
                { nome: 'Organizar Finan√ßas', categoria: 'pessoal', progresso: 85 }
            ];
            
            projetosExemplo.forEach(proj => {
                estado.projetos.lista.push({
                    id: Date.now() + Math.random(),
                    nome: proj.nome,
                    categoria: proj.categoria,
                    progresso: proj.progresso,
                    criado: new Date().toLocaleDateString('pt-BR'),
                    tarefas: []
                });
            });
            
            const tarefasExemplo = [
                { descricao: 'Estudar fun√ß√µes JavaScript', tempo: 120 },
                { descricao: 'Fazer exerc√≠cios cardio', tempo: 45 },
                { descricao: 'Organizar planilha de gastos', tempo: 90 }
            ];
            
            tarefasExemplo.forEach(tarefa => {
                estado.projetos.tarefas.push({
                    id: Date.now() + Math.random(),
                    descricao: tarefa.descricao,
                    tempo: tarefa.tempo,
                    data: new Date().toLocaleDateString('pt-BR')
                });
            });
            
            atualizarDisplayProjetos();
            atualizarTarefasRecentes();
            registrarAtividade('Dados de projetos de exemplo carregados');
        }

        // ========== SISTEMA DE NOTAS ==========
        function criarNovaNota() {
            const titulo = document.getElementById('titulo-nota').value.trim();
            if (!titulo) {
                alert('Digite um t√≠tulo para a nota');
                return;
            }

            const novaNota = {
                id: Date.now(),
                titulo: titulo,
                conteudo: '',
                categoria: 'pessoal',
                criada: new Date().toLocaleDateString('pt-BR'),
                atualizada: new Date().toLocaleDateString('pt-BR')
            };

            estado.notas.lista.push(novaNota);
            estado.notas.notaAtual = novaNota;

            atualizarListaNotas();
            atualizarEditorNota();
            document.getElementById('titulo-nota').value = '';
            registrarAtividade(`Nova nota criada: "${titulo}"`);
        }

        function salvarNota() {
            if (!estado.notas.notaAtual) {
                alert('Nenhuma nota selecionada');
                return;
            }

            const titulo = document.getElementById('editar-titulo-nota').value.trim();
            const conteudo = document.getElementById('editar-conteudo-nota').value.trim();
            const categoria = document.getElementById('editar-categoria-nota').value;

            if (!titulo) {
                alert('O t√≠tulo n√£o pode estar vazio');
                return;
            }

            estado.notas.notaAtual.titulo = titulo;
            estado.notas.notaAtual.conteudo = conteudo;
            estado.notas.notaAtual.categoria = categoria;
            estado.notas.notaAtual.atualizada = new Date().toLocaleDateString('pt-BR');

            atualizarListaNotas();
            registrarAtividade(`Nota salva: "${titulo}"`);
        }

        function excluirNota() {
            if (!estado.notas.notaAtual) {
                alert('Nenhuma nota selecionada');
                return;
            }

            if (confirm(`Excluir a nota "${estado.notas.notaAtual.titulo}"?`)) {
                const idNota = estado.notas.notaAtual.id;
                estado.notas.lista = estado.notas.lista.filter(nota => nota.id !== idNota);
                estado.notas.notaAtual = null;

                atualizarListaNotas();
                limparEditorNota();
                registrarAtividade(`Nota exclu√≠da`);
            }
        }

        function limparEditorNota() {
            estado.notas.notaAtual = null;
            document.getElementById('editar-titulo-nota').value = '';
            document.getElementById('editar-conteudo-nota').value = '';
            document.getElementById('editar-categoria-nota').value = 'pessoal';
        }

        function selecionarNota(idNota) {
            estado.notas.notaAtual = estado.notas.lista.find(nota => nota.id === idNota);
            atualizarListaNotas();
            atualizarEditorNota();
        }

        function buscarNotas() {
            estado.notas.termoBusca = document.getElementById('buscar-notas').value.toLowerCase();
            atualizarListaNotas();
        }

        function filtrarNotas() {
            estado.notas.categoriaFiltro = document.getElementById('filtro-categoria-nota').value;
            atualizarListaNotas();
        }

        function atualizarListaNotas() {
            const container = document.getElementById('container-lista-notas');
            container.innerHTML = '';

            let notasFiltradas = estado.notas.lista;

            if (estado.notas.categoriaFiltro !== 'all') {
                notasFiltradas = notasFiltradas.filter(nota => nota.categoria === estado.notas.categoriaFiltro);
            }

            if (estado.notas.termoBusca) {
                notasFiltradas = notasFiltradas.filter(nota => 
                    nota.titulo.toLowerCase().includes(estado.notas.termoBusca) ||
                    nota.conteudo.toLowerCase().includes(estado.notas.termoBusca)
                );
            }

            if (notasFiltradas.length === 0) {
                container.innerHTML = '<div class="note-item"><div class="note-title">Nenhuma nota</div></div>';
                return;
            }

            notasFiltradas.sort((a, b) => new Date(b.atualizada) - new Date(a.atualizada));

            notasFiltradas.forEach(nota => {
                const elementoNota = document.createElement('div');
                elementoNota.className = `note-item ${estado.notas.notaAtual && estado.notas.notaAtual.id === nota.id ? 'active' : ''}`;
                elementoNota.onclick = () => selecionarNota(nota.id);
                
                const preview = nota.conteudo.length > 50 ? nota.conteudo.substring(0, 50) + '...' : nota.conteudo;
                
                elementoNota.innerHTML = `
                    <div class="note-title">${nota.titulo}</div>
                    <div class="note-preview">${preview || 'Sem conte√∫do'}</div>
                    <div style="font-size: 10px; color: #5b6b8b; margin-top: 5px;">
                        ${nota.categoria} ‚Ä¢ ${nota.atualizada}
                    </div>
                `;
                
                container.appendChild(elementoNota);
            });
        }

        function atualizarEditorNota() {
            if (estado.notas.notaAtual) {
                document.getElementById('editar-titulo-nota').value = estado.notas.notaAtual.titulo;
                document.getElementById('editar-conteudo-nota').value = estado.notas.notaAtual.conteudo;
                document.getElementById('editar-categoria-nota').value = estado.notas.notaAtual.categoria;
            } else {
                limparEditorNota();
            }
        }

        // ========== SISTEMA DE CALEND√ÅRIO ==========
        function inicializarCalendario() {
            atualizarCalendario();
            atualizarEventosMes();
            atualizarProximosEventos();
            
            const hoje = new Date();
            const entradaMes = document.getElementById('mes-calendario');
            entradaMes.value = `${hoje.getFullYear()}-${String(hoje.getMonth() + 1).padStart(2, '0')}`;
        }

        function atualizarCalendario() {
            const gradeCalendario = document.getElementById('grade-calendario');
            const mesAno = document.getElementById('mes-ano-calendario');
            const totalEventos = document.getElementById('total-eventos');
            const contadorEventosMes = document.getElementById('contador-eventos-mes');
            
            const ano = estado.calendario.dataAtual.getFullYear();
            const mes = estado.calendario.dataAtual.getMonth();
            
            const nomesMeses = ['Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];
            mesAno.textContent = `${nomesMeses[mes]} ${ano}`;
            
            // Estat√≠sticas
            totalEventos.textContent = estado.calendario.eventos.length;
            const eventosMesAtual = estado.calendario.eventos.filter(evento => {
                const dataEvento = new Date(evento.data);
                return dataEvento.getFullYear() === ano && dataEvento.getMonth() === mes;
            }).length;
            contadorEventosMes.textContent = eventosMesAtual;
            
            gradeCalendario.innerHTML = '';
            
            const dias = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];
            dias.forEach(dia => {
                const cabecalhoDia = document.createElement('div');
                cabecalhoDia.className = 'calendar-day-header';
                cabecalhoDia.textContent = dia;
                gradeCalendario.appendChild(cabecalhoDia);
            });
            
            const primeiroDia = new Date(ano, mes, 1);
            const ultimoDia = new Date(ano, mes + 1, 0);
            const indicePrimeiroDia = primeiroDia.getDay();
            const diasNoMes = ultimoDia.getDate();
            
            const ultimoDiaMesAnterior = new Date(ano, mes, 0).getDate();
            for (let i = indicePrimeiroDia - 1; i >= 0; i--) {
                const elementoDia = document.createElement('div');
                elementoDia.className = 'calendar-day other-month';
                elementoDia.textContent = ultimoDiaMesAnterior - i;
                gradeCalendario.appendChild(elementoDia);
            }
            
            const hoje = new Date();
            for (let dia = 1; dia <= diasNoMes; dia++) {
                const elementoDia = document.createElement('div');
                elementoDia.className = 'calendar-day';
                
                const dataAtual = new Date(ano, mes, dia);
                if (dataAtual.toDateString() === hoje.toDateString()) {
                    elementoDia.classList.add('today');
                }
                
                elementoDia.innerHTML = `<div style="font-weight: bold; margin-bottom: 5px;">${dia}</div>`;
                
                const eventosDia = estado.calendario.eventos.filter(evento => {
                    const dataEvento = new Date(evento.data);
                    return dataEvento.getDate() === dia && 
                           dataEvento.getMonth() === mes && 
                           dataEvento.getFullYear() === ano;
                });
                
                eventosDia.forEach(evento => {
                    const elementoEvento = document.createElement('div');
                    elementoEvento.className = 'calendar-event';
                    elementoEvento.textContent = evento.titulo;
                    elementoEvento.title = evento.descricao || evento.titulo;
                    elementoDia.appendChild(elementoEvento);
                });
                
                elementoDia.onclick = () => selecionarData(dia);
                gradeCalendario.appendChild(elementoDia);
            }
            
            const totalCelulas = 42;
            const celulasRestantes = totalCelulas - (indicePrimeiroDia + diasNoMes);
            for (let dia = 1; dia <= celulasRestantes; dia++) {
                const elementoDia = document.createElement('div');
                elementoDia.className = 'calendar-day other-month';
                elementoDia.textContent = dia;
                gradeCalendario.appendChild(elementoDia);
            }
        }

        function selecionarData(dia) {
            const ano = estado.calendario.dataAtual.getFullYear();
            const mes = estado.calendario.dataAtual.getMonth();
            estado.calendario.dataSelecionada = new Date(ano, mes, dia);
            
            document.getElementById('data-evento').value = formatarDataParaInput(estado.calendario.dataSelecionada);
            document.getElementById('data-evento-modal').value = formatarDataParaInput(estado.calendario.dataSelecionada);
            
            abrirModalEvento();
        }

        function formatarDataParaInput(data) {
            return data.toISOString().split('T')[0];
        }

        function mesAnterior() {
            estado.calendario.dataAtual.setMonth(estado.calendario.dataAtual.getMonth() - 1);
            atualizarCalendario();
            atualizarEventosMes();
        }

        function proximoMes() {
            estado.calendario.dataAtual.setMonth(estado.calendario.dataAtual.getMonth() + 1);
            atualizarCalendario();
            atualizarEventosMes();
        }

        function alterarMesCalendario() {
            const entradaMes = document.getElementById('mes-calendario').value;
            if (entradaMes) {
                const [ano, mes] = entradaMes.split('-').map(Number);
                estado.calendario.dataAtual = new Date(ano, mes - 1, 1);
                atualizarCalendario();
                atualizarEventosMes();
            }
        }

        function irParaHoje() {
            estado.calendario.dataAtual = new Date();
            atualizarCalendario();
            atualizarEventosMes();
            atualizarProximosEventos();
            
            const entradaMes = document.getElementById('mes-calendario');
            const hoje = new Date();
            entradaMes.value = `${hoje.getFullYear()}-${String(hoje.getMonth() + 1).padStart(2, '0')}`;
        }

        function abrirModalEvento() {
            document.getElementById('event-modal').style.display = 'block';
        }

        function fecharModalEvento() {
            document.getElementById('event-modal').style.display = 'none';
        }

        function salvarEvento() {
            const titulo = document.getElementById('titulo-evento-modal').value.trim();
            const data = document.getElementById('data-evento-modal').value;
            const descricao = document.getElementById('descricao-evento-modal').value.trim();
            const categoria = document.getElementById('categoria-evento-modal').value;

            if (!titulo || !data) {
                alert('Preencha t√≠tulo e data');
                return;
            }

            const novoEvento = {
                id: Date.now(),
                titulo: titulo,
                data: data,
                descricao: descricao,
                categoria: categoria,
                criado: new Date().toLocaleDateString('pt-BR')
            };

            estado.calendario.eventos.push(novoEvento);
            
            atualizarCalendario();
            atualizarEventosMes();
            atualizarProximosEventos();
            fecharModalEvento();
            
            document.getElementById('titulo-evento-modal').value = '';
            document.getElementById('descricao-evento-modal').value = '';
            document.getElementById('titulo-evento').value = '';
            
            registrarAtividade(`Evento adicionado: "${titulo}"`);
        }

        function atualizarEventosMes() {
            const container = document.getElementById('eventos-mes');
            container.innerHTML = '';

            const ano = estado.calendario.dataAtual.getFullYear();
            const mes = estado.calendario.dataAtual.getMonth();

            const eventosMes = estado.calendario.eventos.filter(evento => {
                const dataEvento = new Date(evento.data);
                return dataEvento.getFullYear() === ano && dataEvento.getMonth() === mes;
            });

            if (eventosMes.length === 0) {
                container.innerHTML = '<div class="transaction-item"><span>Nenhum evento</span></div>';
                return;
            }

            eventosMes.sort((a, b) => new Date(a.data) - new Date(b.data));

            eventosMes.forEach(evento => {
                const elementoEvento = document.createElement('div');
                elementoEvento.className = 'transaction-item';
                elementoEvento.innerHTML = `
                    <div>
                        <strong>${evento.titulo}</strong>
                        <div style="font-size: 12px; color: #5b6b8b;">
                            ${new Date(evento.data).toLocaleDateString('pt-BR')} ‚Ä¢ ${evento.categoria}
                        </div>
                    </div>
                `;
                container.appendChild(elementoEvento);
            });
        }

        function atualizarProximosEventos() {
            const container = document.getElementById('proximos-eventos');
            container.innerHTML = '';

            const hoje = new Date();
            hoje.setHours(0, 0, 0, 0);

            const proximosEventos = estado.calendario.eventos
                .filter(evento => new Date(evento.data) >= hoje)
                .sort((a, b) => new Date(a.data) - new Date(b.data))
                .slice(0, 5);

            if (proximosEventos.length === 0) {
                container.innerHTML = '<div class="transaction-item"><span>Nenhum evento</span></div>';
                return;
            }

            proximosEventos.forEach(evento => {
                const elementoEvento = document.createElement('div');
                elementoEvento.className = 'transaction-item';
                
                const dataEvento = new Date(evento.data);
                const ehHoje = dataEvento.toDateString() === hoje.toDateString();
                const textoData = ehHoje ? 'Hoje' : dataEvento.toLocaleDateString('pt-BR');
                
                elementoEvento.innerHTML = `
                    <div>
                        <strong>${evento.titulo}</strong>
                        <div style="font-size: 12px; color: #5b6b8b;">
                            ${textoData} ‚Ä¢ ${evento.categoria}
                        </div>
                    </div>
                `;
                container.appendChild(elementoEvento);
            });
        }

        // ========== SISTEMA DE CONEX√ïES ==========
        function analisarTodasConexoes() {
            const conexoes = [];
            
            // Conex√£o 1: Humor vs Finan√ßas
            if (estado.saude.humores.length > 2 && estado.financas.transacoes.length > 2) {
                const humorMedio = estado.saude.humores.reduce((a, b) => a + b, 0) / estado.saude.humores.length;
                
                if (humorMedio < 2.5 && estado.financas.totalGastos > 1000) {
                    conexoes.push({
                        tipo: 'alert',
                        mensagem: `Humor baixo correlacionado com gastos elevados`
                    });
                }
            }
            
            // Conex√£o 2: Sono vs Produtividade
            if (estado.saude.horasSono.length > 0 && estado.projetos.lista.length > 0) {
                const sonoMedio = estado.saude.horasSono.reduce((a, b) => a + b, 0) / estado.saude.horasSono.length;
                const progressoMedio = estado.projetos.lista.reduce((soma, p) => soma + p.progresso, 0) / estado.projetos.lista.length;
                
                if (sonoMedio < 6 && progressoMedio < 50) {
                    conexoes.push({
                        tipo: 'alert', 
                        mensagem: `Pouco sono afetando produtividade`
                    });
                } else if (sonoMedio >= 7 && progressoMedio > 70) {
                    conexoes.push({
                        tipo: 'insight',
                        mensagem: `Bom sono contribuindo para alta produtividade`
                    });
                }
            }
            
            atualizarDisplayConexoes(conexoes);
            atualizarEstatisticasConexoes(conexoes);
            
            estado.conexoes.encontradas = conexoes;
            estado.conexoes.ultimaAnalise = new Date();
            
            registrarAtividade(`An√°lise conclu√≠da: ${conexoes.length} conex√µes`);
        }
        
        function atualizarDisplayConexoes(conexoes) {
            const container = document.getElementById('container-conexoes');
            container.innerHTML = '';
            
            if (conexoes.length === 0) {
                container.innerHTML = `
                    <div class="connection-item">
                        Adicione dados para ver conex√µes.
                    </div>
                `;
                return;
            }
            
            conexoes.forEach(conn => {
                const div = document.createElement('div');
                div.className = `connection-item ${conn.tipo === 'alert' ? 'alert' : ''}`;
                div.innerHTML = conn.mensagem;
                container.appendChild(div);
            });
        }
        
        function atualizarEstatisticasConexoes(conexoes) {
            document.getElementById('dias-dados').textContent = Math.max(
                estado.saude.entradas.length,
                Math.ceil(estado.financas.transacoes.length / 3),
                estado.projetos.lista.length
            );
            document.getElementById('conexoes-encontradas').textContent = conexoes.length;
            document.getElementById('padroes-encontrados').textContent = conexoes.filter(c => c.tipo === 'insight').length;
        }
        
        function limparTodosDados() {
            if (confirm('Limpar TODOS os dados do sistema?')) {
                // Limpar finan√ßas
                estado.financas.saldoInicial = 0;
                estado.financas.saldoAtual = 0;
                estado.financas.metaEconomia = 0;
                estado.financas.limiteGastos = 0;
                estado.financas.totalReceitas = 0;
                estado.financas.totalGastos = 0;
                estado.financas.transacoes = [];
                
                // Limpar sa√∫de
                estado.saude.humores = [];
                estado.saude.horasSono = [];
                estado.saude.niveisEnergia = [];
                estado.saude.entradas = [];
                
                // Limpar projetos
                estado.projetos.lista = [];
                estado.projetos.tarefas = [];
                estado.projetos.progressoGeral = 0;
                
                // Limpar notas
                estado.notas.lista = [];
                estado.notas.notaAtual = null;
                
                // Limpar calend√°rio
                estado.calendario.eventos = [];
                
                // Limpar conex√µes
                estado.conexoes.encontradas = [];
                estado.conexoes.ultimaAnalise = null;
                
                // Atualizar todas as displays
                atualizarDisplayFinancas();
                atualizarListaTransacoes();
                atualizarDisplaySaude();
                atualizarDisplayProjetos();
                atualizarTarefasRecentes();
                atualizarListaNotas();
                atualizarCalendario();
                atualizarDisplayConexoes([]);
                atualizarEstatisticasConexoes([]);
                
                registrarAtividade('Todos os dados limpos');
            }
        }
        
        function adicionarDadosExemploTodos() {
            adicionarDadosExemploFinancas();
            adicionarDadosExemploSaude();
            adicionarDadosExemploProjeto();
            setTimeout(analisarTodasConexoes, 500);
            registrarAtividade('Dados de exemplo carregados');
        }

        // ========== INICIALIZA√á√ÉO ==========
        document.addEventListener('DOMContentLoaded', function() {
            atualizarDisplayFinancas();
            atualizarDisplaySaude();
            atualizarDisplayProjetos();
            atualizarListaNotas();
            inicializarCalendario();
            atualizarEstatisticasConexoes([]);
            
            // Configurar data atual
            const hoje = new Date();
            document.getElementById('data-evento').value = formatarDataParaInput(hoje);
            document.getElementById('data-evento-modal').value = formatarDataParaInput(hoje);
            
            registrarAtividade('Sistema iniciado');
        });
    </script>
</body>
</html>